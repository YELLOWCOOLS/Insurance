<!doctype html><!--[if lte IE 7 ]><html class="no-js ie lte7 lte8 lte9 javascript"><![endif]--><!--[if IE 8 ]><html class="no-js ie ie8 lte8 lte9 javascript"><![endif]--><!--[if IE 9 ]><html class="no-js ie ie9 lte9 javascript"><![endif]--><!--[if (gt IE 9)|!(IE)]><!--><html class="no-js javascript"><!--<![endif]--><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" content="Amaze UI 是一个移动优先的跨屏前端框架。"><meta name="keywords" content="HTML, HTML5, CSS, CSS3, JS, JavaScript, framework, Amaze UI, front-end, frontend, web development, 前端框架, 开源, meizi, meizi UI, 妹子UI, Web Components"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>JS 插件 - Fastclick | Amaze UI</title><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-siteapp"/><link rel="alternate icon" type="image/png" href="../../assets/i/favicon.png"><link rel="apple-touch-icon-precomposed" href="../../assets/i/app-icon72x72@2x.png"><meta name="apple-mobile-web-app-title" content="Amaze UI"/><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="stylesheet" href="../../assets/css/amazeui.min.css?v=i88dzy6i"><link rel="stylesheet" href="../../assets/css/amaze.min.css?v=i88dzy6i"><!--[if (gte IE 9)|!(IE)]><!--><script src="../../assets/js/jquery.min.js"></script><!--<![endif]--><!--[if lt IE 9]><script src="http://libs.baidu.com/jquery/1.11.1/jquery.min.js"></script>
<script src="http://cdn.staticfile.org/modernizr/2.8.3/modernizr.js"></script>
<script src="../../assets/js/polyfill/rem.min.js"></script>
<script src="../../assets/js/polyfill/respond.min.js"></script>
<script src="../../assets/js/amazeui.legacy.js"></script><![endif]--><!--[if (gte IE 9)|!(IE)]><!--><script src="../../assets/js/amazeui.min.js?v=i88dzy6i"></script><!--<![endif]--><link rel="canonical" href="http://amazeui.org/javascript/fastclick?_ver=2.x"/></head><body class="" data-amui="2.x"><!--[if lte IE 9 ]><div class="am-alert am-alert-danger ie-warning" data-am-alert>
  <button type="button" class="am-close">&times;</button>
  <div class="am-container">
    365 安全卫士提醒：你的浏览器太古董了，妹子无爱，<a
    href="http://browsehappy.com/" target="_blank">还不速速换一个</a>！</div></div><![endif]--><header id="amz-header"><div class="amz-container am-cf"><h1><a href="../../">Amaze UI</a> <span class="am-badge am-badge-danger">2.3</span></h1><button class="am-btn am-btn-primary am-show-sm-only" data-am-collapse="{target: '.amz-header-nav'}"><span class="am-sr-only">导航切换</span> <span class="am-icon-bars"></span></button><nav><ul class="amz-header-nav am-collapse"><li><a href="../../getting-started">开始使用</a></li><li><a href="../../css">CSS</a></li><li class="am-active"><a href="../../javascript">JS 插件</a></li><li><a href="../../widgets">Web 组件</a></li><li class="amz-cse"><form action="http://zhannei.baidu.com/cse/search" method="get" target="_blank" class="cse-form"><input type="hidden" name="s" value="13988471460650623274"> <input type="hidden" name="entry" value="1"> <input type="text" required name="q" placeholder="搜索" autocomplete="off"> <button><span class="am-icon-search"></span></button></form></li></ul></nav></div></header><div class="amz-banner"><div class="amz-container" data-am-scrollspy="{animation: 'scale-up', repeat: false}"><h1>JS 插件</h1><p>Amaze UI JS 插件，使用注意事项，以及 JS 插件介绍。</p></div></div><section class="" id="amz-main" data-tag="js-fastclick"><div class="am-g am-g-fixed"><div class="col-md-3 am-u-md-3"><div id="amz-offcanvas" class="am-offcanvas doc-offcanvas"><section class="amz-sidebar am-offcanvas-bar"><ul class="am-nav"><li class="am-nav-header">UI 增强</li><li><a href="../../javascript/alert">警告框<span class="am-nav-en">Alert</span></a></li><li><a href="../../javascript/button">按钮交互<span class="am-nav-en">Button</span></a></li><li><a href="../../javascript/collapse">折叠面板<span class="am-nav-en">Collapse</span></a></li><li><a href="../../javascript/dropdown">下拉组件<span class="am-nav-en">Dropdown</span></a></li><li><a href="../../javascript/modal">模态窗口<span class="am-nav-en">Modal</span></a></li><li><a href="../../javascript/popover">弹出框<span class="am-nav-en">Popover</span></a></li><li><a href="../../javascript/nprogress">加载进度条<span class="am-nav-en">NProgress</span></a></li><li><a href="../../javascript/slider">图片轮播<span class="am-nav-en">Slider</span></a></li><li><a href="../../javascript/offcanvas">侧边栏<span class="am-nav-en">OffCanvas</span></a></li><li><a href="../../javascript/scrollspy">滚动侦测<span class="am-nav-en">ScrollSpy</span></a></li><li><a href="../../javascript/scrollspynav">滚动侦测导航<span class="am-nav-en">ScrollSpyNav</span></a></li><li><a href="../../javascript/smooth-scroll">平滑滚动<span class="am-nav-en">SmoothScroll</span></a></li><li><a href="../../javascript/sticky">固定元素<span class="am-nav-en">Sticky</span></a></li><li><a href="../../javascript/tabs">选项卡<span class="am-nav-en">Tabs</span></a></li><li><a href="../../javascript/datepicker">日期组件<span class="am-nav-en">DatePicker</span></a></li><li><a href="../../javascript/selected">下拉选框<span class="am-nav-en">Selected</span></a></li><li><a href="../../javascript/ucheck">单/多选框<span class="am-nav-en">uCheck</span></a></li><li><a href="../../javascript/validator">表单验证<span class="am-nav-en">Validator</span></a></li><li class="am-nav-header">实用工具</li><li><a href="../../javascript/cookie">Cookie<span class="am-nav-en">Cookie</span></a></li><li class="am-active"><a href="../../javascript/fastclick">FastClick<span class="am-nav-en">FastClick</span></a></li><li><a href="../../javascript/fullscreen">全屏切换<span class="am-nav-en">FullScreen</span></a></li><li><a href="../../javascript/hammer">触控事件<span class="am-nav-en">Hammer</span></a></li><li><a href="../../javascript/iscroll-lite">iScroll<span class="am-nav-en">iScroll</span></a></li><li><a href="../../javascript/store">本地存储<span class="am-nav-en">Store</span></a></li><li><a href="../../javascript/geolocation">地理位置<span class="am-nav-en">GEO</span></a></li></ul></section><div class="amz-pager"><a href="#up" class="am-icon-caret-up" data-rel="scrollUp"></a> <a href="#down" class="am-icon-caret-down" data-rel="scrollDown"></a></div></div></div><div class="col-md-9 am-u-md-9 doc-content"><div class="doc-toc"><h2><span>目录</span></h2><div class="doc-toc-bd"><ul class="md-toc"><li><a href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%98%E5%9C%A8%E5%BB%B6%E8%BF%9F%EF%BC%9F">为什么存在延迟？</a></li><li><a href="#%E5%85%BC%E5%AE%B9%E6%80%A7">兼容性</a></li><li><a href="#%E4%B8%8D%E5%BA%94%E7%94%A8-fastclick-%E7%9A%84%E5%9C%BA%E6%99%AF">不应用 FastClick 的场景</a></li><li><a href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95">使用方法</a></li><li><a href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98">常见问题</a><ul class="am-collapse"><li><a href="#%E4%BD%BF%E7%94%A8-fastclick-%E4%BB%A5%E5%90%8E-contenteditable-%E5%9C%A8%E8%A7%A6%E6%91%B8%E5%B1%8F%E4%B8%8A%E5%A4%B1%E6%95%88%EF%BC%8C%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%EF%BC%9F">使用 FastClick 以后 contenteditable 在触摸屏上失效，如何处理？</a></li></ul></li><li><a href="#licence">Licence</a></li></ul></div></div><h1 id="fastclick">FastClick <a href="#fastclick" title="Heading anchor" class="doc-anchor"></a></h1><hr/><p>处理移动端 <code>click</code> 事件 300 毫秒延迟， 由 <a href="http://labs.ft.com/">FT Labs</a> 开发（<a href="https://github.com/ftlabs/fastclick">项目地址</a>）。</p><h2 id="为什么存在延迟？">为什么存在延迟？ <a href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%98%E5%9C%A8%E5%BB%B6%E8%BF%9F%EF%BC%9F" title="Heading anchor" class="doc-anchor"></a></h2><p>根据 <a href="https://developers.google.com/mobile/articles/fast_buttons">Google 开发者文档</a>：</p><blockquote><p>...mobile browsers will wait approximately 300ms from the time that you tap the button to fire the click event. The reason for this is that the browser is waiting to see if you are actually performing a double tap.</p></blockquote><p>从点击屏幕上的元素到触发元素的 <code>click</code> 事件，移动浏览器会有大约 300 毫秒的等待时间。为什么这么设计呢？ 因为它想看看你是不是要进行双击（double tap）操作。</p><h2 id="兼容性">兼容性 <a href="#%E5%85%BC%E5%AE%B9%E6%80%A7" title="Heading anchor" class="doc-anchor"></a></h2><ul><li>Mobile Safari on iOS 3 and upwards</li><li>Chrome on iOS 5 and upwards</li><li>Chrome on Android (ICS)</li><li>Opera Mobile 11.5 and upwards</li><li>Android Browser since Android 2</li><li>PlayBook OS 1 and upwards</li></ul><h2 id="不应用-fastclick-的场景">不应用 FastClick 的场景 <a href="#%E4%B8%8D%E5%BA%94%E7%94%A8-fastclick-%E7%9A%84%E5%9C%BA%E6%99%AF" title="Heading anchor" class="doc-anchor"></a></h2><ul><li>桌面浏览器；</li><li>如果 <a href="https://developer.mozilla.org/en-US/docs/Mobile/Viewport_meta_tag">viewport meta 标签</a> 中设置了 <code>width=device-width</code>， Android 上的 Chrome 32+ 会禁用 300ms 延时；</li></ul><div class="doc-code demo-highlight"><pre class=""><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"viewport"</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"width=device-width, initial-scale=1"</span>&gt;</span>
</code></pre></div><ul><li>viewport meta 标签如果设置了 <code>user-scalable=no</code>，Android 上的 Chrome（所有版本）都会禁用 300ms 延迟。</li><li>IE10 中，可以使用 css 属性 <code>-ms-touch-action: none</code> 禁止元素双击缩放（<a href="http://blogs.msdn.com/b/askie/archive/2013/01/06/how-to-implement-the-ms-touch-action-none-property-to-disable-double-tap-zoom-on-touch-devices.aspx">参考文章</a>）。</li></ul><h2 id="使用方法">使用方法 <a href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95" title="Heading anchor" class="doc-anchor"></a></h2><p><strong>Amaze UI 默认已经初始化 FastClick。</strong></p><p>如有需要，用户可以通过 <code>$.AMUI.FastClick</code> 调用。</p><p>jQuery / Zepto.js:</p><div class="doc-code demo-highlight"><pre class=""><code class="javascript">$(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  $.AMUI.FastClick.attach(<span class="hljs-built_in">document</span>.body);
});
</code></pre></div><p>CommonJS:</p><div class="doc-code demo-highlight"><pre class=""><code class="javascript"><span class="hljs-keyword">var</span> attachFastClick = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fastclick'</span>);
attachFastClick(<span class="hljs-built_in">document</span>.body);
</code></pre></div><h2 id="常见问题">常见问题 <a href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98" title="Heading anchor" class="doc-anchor"></a></h2><h3 id="使用-fastclick-以后-contenteditable-在触摸屏上失效，如何处理？">使用 FastClick 以后 <code>contenteditable</code> 在触摸屏上失效，如何处理？ <a href="#%E4%BD%BF%E7%94%A8-fastclick-%E4%BB%A5%E5%90%8E-contenteditable-%E5%9C%A8%E8%A7%A6%E6%91%B8%E5%B1%8F%E4%B8%8A%E5%A4%B1%E6%95%88%EF%BC%8C%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%EF%BC%9F" title="Heading anchor" class="doc-anchor"></a></h3><p>在需要启动编辑功能的元素上添加 <code>.needsclick</code> class 即可（<a href="http://jsbin.com/wahilo/3/">在线演示</a>）。</p><div class="doc-example"><div contenteditable class="needsclick"><p>请使用触屏访问，然后尝试编辑下面的内容</p><p>编我改我写我……</p></div><hr><div contenteditable>没有加 <code>needsclick</code> class，触摸屏加载 FastClick 以后注定无法编辑。</div></div><div class="doc-code demo-highlight"><pre class=""><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">contenteditable</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"needsclick"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>请使用触屏访问，然后尝试编辑下面的内容<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>编我改我写我……<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">hr</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">contenteditable</span>&gt;</span>
  没有加 <span class="hljs-tag">&lt;<span class="hljs-title">code</span>&gt;</span>needsclick<span class="hljs-tag">&lt;/<span class="hljs-title">code</span>&gt;</span> class，触摸屏加载 FastClick 以后注定无法编辑。
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre></div><h2 id="licence">Licence <a href="#licence" title="Heading anchor" class="doc-anchor"></a></h2><ul><li>@copyright The Financial Times Limited [All Rights Reserved]</li><li>@license MIT License</li></ul><div id="issue-list"></div><script type="text/x-handlebars-template" id="issue-list-tpl"><h2>Issue 列表</h2>
          <ul class="am-list issue-list">
            {{#each this}}
              <li><a href="{{html_url}}" target="_blank" class="am-text-truncate am-icon-bug">{{title}}
                <span
                  class="am-badge {{#ifCond state '=='
                  'open'}}am-badge-danger{{else}}am-badge-success{{/ifCond}}">{{state}}</span></a></li>
            {{/each}}
          </ul></script><div class="ds-thread" id="ds-thread" data-thread-key="131d7c9f8583da5db0c57056a8638d0c" data-title="JS 插件 - Fastclick | Amaze UI"></div></div></div></section><a href="#amz-offcanvas" class="am-icon-btn am-icon-bars am-show-sm-only amz-sidebar-toggle" data-am-offcanvas><span class="am-sr-only">侧栏导航</span></a><footer class="amz-footer"><div class="am-g am-g-fixed"><div class="col-md-4 col-md-push-8 am-u-md-4 am-u-md-push-8"><ul class="amz-social"><li><a href="javascript: void(0)" data-am-popover="{content: 'Amaze UI 交流 Q 群：318547490'}" title="Amaze UI 用户交流群" target="_blank"><span class="am-icon-qq"></span></a></li><li><a href="http://weibo.com/amazeui" title="Amaze UI 微博" target="_blank"><span class="am-icon-weibo"></span></a></li><li><a href="#am-wechat" title="云适配微信" data-am-modal><span class="am-icon-wechat"></span></a></li><li><a class="new-issue" href="https://github.com/allmobilize/amazeui/issues/new?title=Bug%3A%20&body=**%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0**%0A%0A%EF%BC%88%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%8B%E9%97%AE%E9%A2%98%EF%BC%89%0A%0A**%E4%BA%A7%E7%94%9F%E7%8E%AF%E5%A2%83**%0A%0A-%20%E8%AE%BE%E5%A4%87%EF%BC%9A%EF%BC%88%E6%89%8B%E6%9C%BA%E3%80%81%E5%B9%B3%E6%9D%BF%E7%AD%89%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E6%97%B6%E5%A1%AB%E5%86%99%E6%AD%A4%E9%A1%B9%EF%BC%89%0A-%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8F%8A%E7%89%88%E6%9C%AC%EF%BC%9A%0A-%20%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8F%8A%E7%89%88%E6%9C%AC%EF%BC%9A%0A-%20%E6%BC%94%E7%A4%BA%E5%9C%B0%E5%9D%80%EF%BC%9A%0A%0A**%E5%A4%8D%E7%8E%B0%E6%AD%A5%E5%A5%8F**%0A%0A1.%20%0A2.%20%0A...%20%0A%20%0A**UA:**%20%0A" target="_blank" title="Bug 反馈"><span class="am-icon-paper-plane"></span></a></li></ul></div><div class="col-md-8 col-md-pull-4 am-u-md-8 am-u-md-pull-4"><h2 class="amz-fd"><a>云适配</a></h2><ul class="amz-links"><li><a href="../../about/wantu" class="am-icon-heart">&nbsp;妹子招亲</a> | <a href="../../about/contact">联系我们</a> | <a href="../../about/resources">品牌相关</a></li></ul><p class="amz-cp">&copy; 2015 AllMobilize, Inc. Licensed under <a href="http://opensource.org/licenses/MIT" target="_blank">MIT license</a>. Developed with <a href="http://www.jetbrains.com/webstorm/" target="_blank">WebStorm</a>.</p></div></div></footer><div class="am-modal am-modal-no-btn" tabindex="-1" id="am-wechat"><div class="am-modal-dialog"><div class="am-modal-hd"><a href="" class="am-close am-close-spin" data-am-modal-close>&times;</a></div><div class="am-modal-bd"><img src="../../assets/i/am/qr-ui.jpg" alt="Amaze UI 微信"/><br/>在微信上关注我们</div></div></div><div class="amz-toolbar" id="amz-toolbar"><a href="#top" title="回到顶部" class="am-icon-btn am-icon-arrow-up" id="amz-go-top"></a> <a href="../../getting-started/faq" title="常见问题" class="am-icon-faq am-icon-btn am-icon-question-circle"></a></div><!--[if (gte IE 9)|!(IE)]><!--><script src="../../assets/js/ZeroClipboard.min.js"></script><!--<![endif]--><script src="../../assets/js/handlebars.min.js"></script><script src="../../assets/js/main.min.js"></script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?b424d39312c46404f15e22574a531fbb",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}(),function(e,t,n){function a(){!function(e,t,n,a,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(n),s=t.getElementsByTagName(n)[0],o.async=1,o.src=a,s.parentNode.insertBefore(o,s)}(e,t,n,"//www.google-analytics.com/analytics.js","ga"),ga("create","UA-34196034-8","amazeui.org"),ga("send","pageview")}e.addEventListener?e.addEventListener("load",a,!1):e.attachEvent&&e.attachEvent("onload",a)}(window,document,"script");var _py=_py||[];_py.push(["a","9J..PngLvKZedYDSyrmcEuUyqX"]),_py.push(["domain","stats.ipinyou.com"]),_py.push(["e",""]),-function(e){var t=e.createElement("script"),n=e.body.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),f="https:"==location.protocol,t.src=(f?"https":"http")+"://"+(f?"fm.ipinyou.com":"fm.p0y.cn")+"/j/adv.js"}(document);</script><noscript><img src="//stats.ipinyou.com/adv.gif?a=9J..PngLvKZedYDSyrmcEuUyqX&e=" style="display:none;"/></noscript></body></html><!-- Cached page generated on Wed Apr 08 2015 15:00:54 GMT+0800 (CST) -->